{% if analysis_type %}
<form hx-put="{% url 'lab:analysis_type_edit' analysis_type.id %}"
      hx-target="#main-content"
      class="bg-white rounded-lg shadow p-4">
    <h3 class="text-lg font-semibold mb-4">Edit Analysis Type</h3>
{% else %}
<form hx-post="{% url 'lab:analysis_type_create' %}"
      hx-target="#main-content"
      class="bg-white rounded-lg shadow p-4">
    <h3 class="text-lg font-semibold mb-4">New Analysis Type</h3>
{% endif %}

    <!-- Name -->
    <div class="mb-4">
        <label for="name" class="block text-sm font-medium text-gray-700">Name</label>
        <input type="text" name="name" id="name"
               value="{{ analysis_type.name|default:'' }}"
               required
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
    </div>

    <!-- Description -->
    <div class="mb-4">
        <label for="description" class="block text-sm font-medium text-gray-700">Description</label>
        <textarea name="description" id="description" rows="3"
                  class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">{{ analysis_type.description|default:'' }}</textarea>
    </div>

    <!-- Version -->
    <div class="mb-4">
        <label for="version" class="block text-sm font-medium text-gray-700">Version</label>
        <input type="text" name="version" id="version"
               value="{{ analysis_type.version|default:'' }}"
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
    </div>

    <!-- Source URL -->
    <div class="mb-4">
        <label for="source_url" class="block text-sm font-medium text-gray-700">Source URL</label>
        <input type="url" name="source_url" id="source_url"
               value="{{ analysis_type.source_url|default:'' }}"
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
        <p class="mt-1 text-sm text-gray-500">URL to the analysis source code or documentation</p>
    </div>

    <!-- Results URL -->
    <div class="mb-4">
        <label for="results_url" class="block text-sm font-medium text-gray-700">Results URL</label>
        <input type="url" name="results_url" id="results_url"
               value="{{ analysis_type.results_url|default:'' }}"
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
        <p class="mt-1 text-sm text-gray-500">URL to view analysis results</p>
    </div>

    <!-- Buttons -->
    <div class="flex justify-end space-x-3">
        <button type="button"
                hx-get="{% url 'lab:types_list' %}"
                hx-target="#main-content"
                class="bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
            Cancel
        </button>
        <button type="submit"
                class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
            {% if analysis_type %}Update{% else %}Create{% endif %}
        </button>
    </div>
</form> 