<div class="chart-container">
    <div class="mb-4">
        <h3 class="text-lg font-semibold">{{ model_name }} Distribution by {{ attribute_name|title }}</h3>
        <p class="text-sm text-gray-600">Total: {{ total_count }} records, {{ unique_values }} unique values</p>
    </div>
    
    <div id="pie-chart-partial" style="width: 100%; height: 400px;"></div>
</div>

<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const chartData = {{ chart_json|safe }};
        Plotly.newPlot('pie-chart-partial', chartData.data, chartData.layout, {
            responsive: true,
            displayModeBar: true,
            modeBarButtonsToRemove: ['pan2d', 'lasso2d', 'select2d']
        });
    });
</script> 