<div id="individual-{{ individual.id }}" class="bg-white rounded-lg shadow p-6">
  <div class="space-y-4">
    <div>
      <label class="text-sm font-medium text-gray-500">Lab ID</label>
      <p class="text-gray-900">{{ individual.lab_id }}</p>
    </div>
    <div>
      <label class="text-sm font-medium text-gray-500">Biobank ID</label>
      <p class="text-gray-900">{{ individual.biobank_id }}</p>
    </div>
    {% if perms.lab.view_individual_sensitive_data %}
    <div>
      <label class="text-sm font-medium text-gray-500">Full Name</label>
      <p class="text-gray-900">{{ individual.full_name }}</p>
    </div>
    {% endif %}
    <div class="pt-4 border-t flex justify-end space-x-3">
      {% if perms.lab.change_individual %}
      <button
        class="text-green-600 hover:text-green-900 flex items-center"
        hx-get="{% url 'lab:individual_edit' individual.pk %}?row-edit=1"
        hx-target="#individual-{{ individual.pk }}"
        hx-swap="outerHTML"
      >
        <i class="fas fa-edit mr-1"></i> Edit
      </button>
      {% endif %} {% if perms.lab.delete_individual %}
      <button
        class="text-red-600 hover:text-red-900 flex items-center"
        hx-delete="{% url 'lab:individual_delete' individual.pk %}"
        hx-target="#individual-{{ individual.pk }}"
        hx-confirm="Are you sure you want to delete this individual?"
        hx-swap="outerHTML swap:1s"
      >
        <i class="fas fa-trash-alt mr-1"></i> Delete
      </button>
      {% endif %}
    </div>
  </div>

  <!-- Example for individual detail template -->
  <div class="mt-8">
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-lg font-medium">Tasks</h3>
      <button
        class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded text-sm"
        hx-get="{% url 'lab:task_create' 'individual' individual.pk %}"
        hx-target="#task-form-container"
        hx-swap="innerHTML"
      >
        <i class="fas fa-plus mr-1"></i> Add Task
      </button>
    </div>

    <div id="task-form-container"></div>

    <div id="tasks-container" class="mt-4">
      {% for task in individual.tasks.all %} {% include
      "lab/tasks/task_card.html" with task=task %} {% empty %}
      <p class="text-gray-500 text-center py-4">No tasks yet.</p>
      {% endfor %}
    </div>
  </div>
</div>
