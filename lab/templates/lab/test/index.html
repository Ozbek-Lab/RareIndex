{% extends "lab/base.html" %}
{% load partials %}

{% block content %}
  <div x-data="{ showDetail: false }">
    <!-- Detail View - Shown when a test is selected -->
    <div x-show="showDetail" x-cloak>
      <!-- Back button -->
      <div class="flex items-center space-x-2 mb-4">
        <button
          class="flex items-center text-blue-600 hover:text-blue-800"
          @click="showDetail = false"
        >
          <i class="fas fa-arrow-left mr-1"></i> Back to Tests
        </button>
      </div>

      <!-- Test detail container loaded by HTMX -->
      <div id="test-detail-container"></div>
    </div>

    <!-- List View - Hidden when detail is shown -->
    <div x-show="!showDetail">
      {% partialdef test-index inline %}
        {% include "lab/test/search.html" %}
      {% endpartialdef %}
    </div>
  </div>
{% endblock %}
