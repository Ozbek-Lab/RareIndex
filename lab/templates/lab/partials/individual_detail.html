<div x-data="{ currentTab: $persist('info') }" class="bg-base-100 rounded-box">
    <!-- Tab Headers -->
    <div role="tablist" class="tabs tabs-boxed bg-base-200/50 p-1 gap-1 mb-4">
        <a role="tab" 
           class="tab transition-all duration-200" 
           :class="{ 'tab-active bg-white shadow-sm font-semibold': currentTab === 'info' }" 
           @click="currentTab = 'info'">
           <i class="fa-solid fa-circle-info mr-2"></i>Info
        </a>
        <a role="tab" 
           class="tab transition-all duration-200" 
           :class="{ 'tab-active bg-white shadow-sm font-semibold': currentTab === 'phenotype' }" 
           @click="currentTab = 'phenotype'">
           <i class="fa-solid fa-notes-medical mr-2"></i>Phenotype
        </a>
        <a role="tab" 
           class="tab transition-all duration-200" 
           :class="{ 'tab-active bg-white shadow-sm font-semibold': currentTab === 'workflow' }" 
           @click="currentTab = 'workflow'">
           <i class="fa-solid fa-diagram-project mr-2"></i>Workflow
        </a>
        <a role="tab" 
           class="tab transition-all duration-200" 
           :class="{ 'tab-active bg-white shadow-sm font-semibold': currentTab === 'history' }" 
           @click="currentTab = 'history'">
           <i class="fa-solid fa-clock-rotate-left mr-2"></i>History
        </a>
    </div>

    <!-- Tab Contents -->
    <div class="p-2 min-h-[300px]">
        
        <!-- Info Tab -->
        <div x-show="currentTab === 'info'" 
             x-transition:enter="transition ease-out duration-200"
             x-transition:enter-start="opacity-0 translate-y-1"
             x-transition:enter-end="opacity-100 translate-y-0">
            {% include "lab/partials/tabs/_info.html" %}
        </div>

        <!-- Phenotype Tab -->
        <div x-show="currentTab === 'phenotype'" style="display: none;"
             x-transition:enter="transition ease-out duration-200"
             x-transition:enter-start="opacity-0 translate-y-1"
             x-transition:enter-end="opacity-100 translate-y-0">
            {% include "lab/partials/tabs/_phenotype.html" %}
        </div>

        <!-- Workflow Tab -->
        <div x-show="currentTab === 'workflow'" style="display: none;" id="workflow-content"
             hx-get="?partial=workflow"
             hx-trigger="workflowRefreshed from:body"
             hx-swap="innerHTML"
             x-transition:enter="transition ease-out duration-200"
             x-transition:enter-start="opacity-0 translate-y-1"
             x-transition:enter-end="opacity-100 translate-y-0">
             {% include "lab/partials/tabs/_workflow.html" %}
        </div>


         <!-- History Tab -->
        <div x-show="currentTab === 'history'" style="display: none;"
             x-transition:enter="transition ease-out duration-200"
             x-transition:enter-start="opacity-0 translate-y-1"
             x-transition:enter-end="opacity-100 translate-y-0">
            {% include "lab/partials/tabs/_history.html" %}
        </div>

    </div>
</div>
